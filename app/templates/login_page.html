{% extends 'header.html' %}
{% block body %}
<main class="container-fluid" style="margin-left: 60px">
  <div class="row">
    <div class="col-sm-5" style="margin-top: 100px">
      <h3 style="color: var(--background-light)">Review and share data</h3>
      <p>
        In order to share your unit data and see your past reviews, you must
        create an account using a valid student email
      </p>
      <p>You will still have the option to review a unit anonymously</p>
    </div>
    <div class="col-sm-7" style="padding-left: 40px">
      <div class="form-container login-form" style="margin-right: 60px">
        <div class="form-header">
          Welcome Back!<br />
          <h4 style="color: var(--background-light)">
            Log in to your ClassMate account
          </h4>
        </div>

        <form name="login" action="" method="POST">
          {{ form.hidden_tag() }}

          <p class="form-label">{{ form.username.label }}</p>
          <p>
            {{ form.username(class="form-input", id="username") }}
            {% for error in form.username.errors %}
              <span class="error-message">{{ error }}</span>
            {% endfor %}
          </p>

          <p class="form-label">{{ form.password.label }}</p>
          <p>
            {{ form.password(class="form-input", id="password") }}
            {% for error in form.password.errors %}
              <span class="error-message">{{ error }}</span>
            {% endfor %}
          </p>

          <p>
            {{ form.guest(onclick="toggleGuest(this)") }}
            {{ form.guest.label }}
          </p>

          <p>{{ form.submit(class="form-submit", id="submit-button") }}</p>
        </form>

        <p style="margin-top: 30px; color: var(--text-tertiary)">
          New to ClassMate? <a href="{{ url_for('main.register') }}">Sign Up</a>
        </p>
      </div>
    </div>
  </div>
</main>

<script>
  function toggleGuest(checkbox) {
    const username = document.getElementById("username");
    const password = document.getElementById("password");
    const isGuest = checkbox.checked;

    username.disabled = isGuest;
    password.disabled = isGuest;
  }
</script>
{% endblock %}
