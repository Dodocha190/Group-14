{% macro render_stars(rating) %}
  {% set full_stars = rating|int %}
  {% set half_star = 1 if rating - full_stars >= 0.5 else 0 %}
  {% set empty_stars = 5 - full_stars - half_star %}

  <div class="fa-stars">
    {% for _ in range(full_stars) %}
      <i class="fas fa-star"></i>
    {% endfor %}
    {% if half_star %}
      <i class="fas fa-star-half-alt"></i>
    {% endif %}
    {% for _ in range(empty_stars) %}
      <i class="far fa-star"></i>
    {% endfor %}
  </div>
{% endmacro %}