{% macro user_faculty_chart(facultylabel, unitcount, canvas_id='userFacultyChart') %}
<div class="chart-container">
  <canvas id="{{ canvas_id }}" class="chart-canvas" style="width:100%"></canvas>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    import Chart from 'chart.js/auto';
    document.addEventListener("DOMContentLoaded", function() {
      const ctx = document.getElementById("{{ canvas_id }}");
      if (ctx) {
        new Chart(ctx, {
          type: 'pie',
          data: {
            labels: {{ facultylabel | tojson }},
            datasets: [{
              data: {{ unitcount | tojson }},
              backgroundColor: [
                '#B4E1FF',
                '#C6B5EF',
                '#FFACE4',
                '#F5FFC6'],
              borderWidth: 0}]
            },
          options: {
            responsive: true,
            plugins: {
              legend: {
                position: 'right',
                labels: {
                  color: 'white',
                  font: {
                    size: 14,
                    weight: 'normal'}
                  }
                },
              }
            }
          });
        }
      });
  </script>
</div>
{% endmacro %}