{% macro assessment_pie_chart(data, canvas_id='assessmentChart') %}
<div class="chart-container">
  <h3 class="chart-title"><i class="fa fa-file-alt"></i> ASSESSMENTS</h3>
  <canvas id="{{ canvas_id }}" class="chart-canvas"></canvas>

  <script>
  document.addEventListener("DOMContentLoaded", function() {
    const ctx = document.getElementById("{{ canvas_id }}");
    if (ctx) {
      new Chart(ctx, {
        type: 'pie',
        data: {
          labels: {{ data.keys() | list | tojson }},
          datasets: [{
            data: {{ data.values() | list | tojson }},
            backgroundColor: [
              '#B4E1FF',  // Final Exam
              '#FFACE4',  // Projects
              '#F5FFC6',  // Participation
              '#C6B5EF'   // Quizzes
            ],
            borderWidth: 0
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: {
              position: 'right',
              labels: {
                color: 'white',
                font: {
                  size: 14,
                  weight: 'normal'
                }
              }
            },
            title: {
              display: false
            }
          }
        }
      });
    }
  });
  </script>
</div>
{% endmacro %}